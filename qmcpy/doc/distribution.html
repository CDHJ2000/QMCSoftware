

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Distribution Class &mdash; qmcpy 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="StoppingCriterion Class" href="stop.html" />
    <link rel="prev" title="Measure Class" href="measure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> qmcpy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrand.html">Integrand Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="measure.html">Measure Class</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Distribution Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="stop.html">StoppingCriterion Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">qmcpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Distribution Class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

           <div itemprop="articleBody">
            
  <div class="section" id="module-algorithms.distribution.__init__">
<span id="distribution-class"></span><h1>Distribution Class<a class="headerlink" href="#module-algorithms.distribution.__init__" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="algorithms.distribution.__init__.DiscreteDistribution">
<em class="property">class </em><code class="sig-prename descclassname">algorithms.distribution.__init__.</code><code class="sig-name descname">DiscreteDistribution</code><span class="sig-paren">(</span><em class="sig-param">accepted_measures</em>, <em class="sig-param">trueD=None</em>, <em class="sig-param">distrib_data=None</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.__init__.DiscreteDistribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies and generates the components of <img class="math" src="_images/math/05988151f920d05758ce7b4b9cdedb5aa88a2e9f.png" alt="a_n \sum_{i=1}^n w_i \delta_{\mathbf{x}_i}(\cdot)"/></p>
<dl class="method">
<dt id="algorithms.distribution.__init__.DiscreteDistribution.gen_distrib">
<em class="property">abstract </em><code class="sig-name descname">gen_distrib</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m</em>, <em class="sig-param">j</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.__init__.DiscreteDistribution.gen_distrib" title="Permalink to this definition">¶</a></dt>
<dd><p>nStart = starting value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>nEnd = ending value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>n = value of <img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.png" alt="n"/> used to determine <img class="math" src="_images/math/e9f4d366f1d155ec8c37d785708c0c47e20de43d.png" alt="a_n"/></p>
<p>coordIndex = which coordinates in sequence are needed</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="algorithms.distribution.__init__.Measure">
<em class="property">class </em><code class="sig-prename descclassname">algorithms.distribution.__init__.</code><code class="sig-name descname">Measure</code><span class="sig-paren">(</span><em class="sig-param">dimension=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.__init__.Measure" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the components of a general measure used to define an
integration problem or a sampling method</p>
</dd></dl>

<span class="target" id="module-algorithms.distribution.DigitalSeq"></span><dl class="class">
<dt id="algorithms.distribution.DigitalSeq.DigitalSeq">
<em class="property">class </em><code class="sig-prename descclassname">algorithms.distribution.DigitalSeq.</code><code class="sig-name descname">DigitalSeq</code><span class="sig-paren">(</span><em class="sig-param">Cs</em>, <em class="sig-param">kstart=0</em>, <em class="sig-param">m=None</em>, <em class="sig-param">s=None</em>, <em class="sig-param">returnDeepCopy=True</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.DigitalSeq.DigitalSeq" title="Permalink to this definition">¶</a></dt>
<dd><p>Digital sequence point generator based on generating matrices.
This sequence generator can take classical (m by m) generating matrices
or higher-order (alpha m by m) generating matrices from interlaced
digital nets, interlaced polynomial lattice rules or higher-order
polynomial lattice rules.
This code is specific for base 2 digital nets.</p>
<dl class="method">
<dt id="algorithms.distribution.DigitalSeq.DigitalSeq.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">Cs</em>, <em class="sig-param">kstart=0</em>, <em class="sig-param">m=None</em>, <em class="sig-param">s=None</em>, <em class="sig-param">returnDeepCopy=True</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.DigitalSeq.DigitalSeq.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a digital sequence point generator given a list of
generating matrices.</p>
<p>Each generating matrix in the list is represented by a list of
integer representation of its columns with the least significant
bit at the top row.
E.g., the upper triangular matrix with all ones is represented as</p>
<blockquote>
<div><p>[ 1, 3, 7, 15, … ]</p>
</div></blockquote>
<p>The number of columns (i.e., the length of the list above
representation for a generator matrix) determines m and then the
number of points one can generate is 2**m.
Only the length of the first generating matrix Cs[0] is checked,
the others need to be at least this length.</p>
<p>The number of bits needed to represent all columns of all generating
matrices is the precision “t” with which the points will be
constructed.</p>
<p>For a classical net t = m as we have square m by m generating
matrices.
For higher order (e.g. through interlacing) nets t = alpha m where
alpha is the rate of convergence aimed for in approximating
integrals (in the function space setting used to construct or analyse
the generating matrices).</p>
<dl>
<dt>Inputs:</dt><dd><p>Cs      generating matrices as a list of lists, see description
above;</p>
<blockquote>
<div><p>or, if Cs is a string it will be interpreted as a filename
and the generating matrices will be load from this file</p>
</div></blockquote>
<dl class="simple">
<dt>kstart  the index of the point from which you want this instance to</dt><dd><p>start, the first point is 0</p>
</dd>
</dl>
</dd>
</dl>
<p>Example usage with a simply unit matrix and the powers of the
polynomial
(X+1) over Z_2[X]. The first dimension is then the van der Corput
sequence. The second matrix is the choice of the second dimension of
the sobol’ and Niederreiter sequences.
&gt;&gt;&gt; from __future__ import print_function
&gt;&gt;&gt; m = 5
&gt;&gt;&gt; C1 = [ 2**i for i in range(m) ]  # van der Corput sequence =
identity matrix
&gt;&gt;&gt; C2 = [ 1 for i in range(m) ]     # here we build the 2nd matrix
of the sobol’ and Niederreiter seq
&gt;&gt;&gt; for i in range(1, m): C2[i] = (C2[i-1] &lt;&lt; 1) ^ C2[i-1]
&gt;&gt;&gt; Cs = [ C1, C2 ]
&gt;&gt;&gt; seq = digitalseq_b2g(Cs)
&gt;&gt;&gt; from copy import deepcopy
&gt;&gt;&gt; [ deepcopy(seq.cur) for x in seq ]
[[0, 0], [16, 16], [24, 8], [8, 24], [12, 12], [28, 28], [20, 4],
[4, 20], [6, 10], [22, 26], [30, 2], [14, 18], [10, 6], [26, 22],
[18, 14], [2, 30], [3, 15], [19, 31], [27, 7], [11, 23], [15, 3],
[31, 19], [23, 11], [7, 27], [5, 5], [21, 21], [29, 13], [13, 29],
[9, 9], [25, 25], [17, 1], [1, 17]]
&gt;&gt;&gt; for x in seq:
…   for xj in x: print(xj, end=” “)
…   print()
0 0
0.5 0.5
0.75 0.25
0.25 0.75
0.375 0.375
0.875 0.875
0.625 0.125
0.125 0.625
0.1875 0.3125
0.6875 0.8125
0.9375 0.0625
0.4375 0.5625
0.3125 0.1875
0.8125 0.6875
0.5625 0.4375
0.0625 0.9375
0.09375 0.46875
0.59375 0.96875
0.84375 0.21875
0.34375 0.71875
0.46875 0.09375
0.96875 0.59375
0.71875 0.34375
0.21875 0.84375
0.15625 0.15625
0.65625 0.65625
0.90625 0.40625
0.40625 0.90625
0.28125 0.28125
0.78125 0.78125
0.53125 0.03125
0.03125 0.53125</p>
<p>These are the first 32 sobol’ or Niederreiter points in 2D.</p>
<p>Warning: please mind the deepcopy if you store the member variables
in a list, you get returned a reference to the value. If you don’t
use deepcopy all your list items will refer to the last value (and
thus all be the same).</p>
<p>Using numpy you can load a Bs.col (or Cs.col) file from the qmc4pde
construction scripts by using:</p>
<blockquote>
<div><p>numpy.loadtxt(‘Bs64.col’, int) # mind the int: read as
integers! but: machine integers!</p>
</div></blockquote>
<dl class="simple">
<dt>or, better, using plain Python:</dt><dd><p>f = open(‘Bs.col’)
Bs = [ map(int, line.split()) for line in f ] # arbitrary big
integers here…</p>
</dd>
</dl>
<p>The easiest way is however to just provide the filename as the Cs
argument (which will use method 2 above).</p>
<p>Standard the points are generated as double precision numbers, however
if one replaces seq.recipd by a multi precision variable with value
2**-seq.t then the points will be delivered as such a type.
Alternatively, the unscaled values are available as seq.cur and the
points can then be generated as rationals with denominator 2**seq.t.</p>
<p>Note: the generating matrices Cs which are passed in are available as
the Csr field of this object, but note that they have been bit
reversed.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-algorithms.distribution.IIDDistribution"></span><dl class="class">
<dt id="algorithms.distribution.IIDDistribution.IIDDistribution">
<em class="property">class </em><code class="sig-prename descclassname">algorithms.distribution.IIDDistribution.</code><code class="sig-name descname">IIDDistribution</code><span class="sig-paren">(</span><em class="sig-param">trueD=None</em>, <em class="sig-param">distrib_data=None</em>, <em class="sig-param">rngSeed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.IIDDistribution.IIDDistribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies and generates the components of <img class="math" src="_images/math/d59410904775e3c06b62ced7058f95f8e93c3029.png" alt="\dfrac{1}{n} \sum_{i=1}^n \delta_{\mathbf{x}_i}(\cdot)"/>
where the <img class="math" src="_images/math/ab6382a541ca484335ab18b551b772cbf45517bb.png" alt="\mathbf{x}_i"/> are IIDDistribution uniform on <img class="math" src="_images/math/38fbdb5f0cd005023c1bb115f01c323f34f20446.png" alt="[0,1]^d"/> or IIDDistribution standard Gaussian</p>
<dl class="method">
<dt id="algorithms.distribution.IIDDistribution.IIDDistribution.gen_distrib">
<code class="sig-name descname">gen_distrib</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m</em>, <em class="sig-param">j=1</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.IIDDistribution.IIDDistribution.gen_distrib" title="Permalink to this definition">¶</a></dt>
<dd><p>nStart = starting value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>nEnd = ending value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>n = value of <img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.png" alt="n"/> used to determine <img class="math" src="_images/math/e9f4d366f1d155ec8c37d785708c0c47e20de43d.png" alt="a_n"/></p>
<p>coordIndex = which coordinates in sequence are needed</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-algorithms.distribution.QuasiRandom"></span><dl class="class">
<dt id="algorithms.distribution.QuasiRandom.QuasiRandom">
<em class="property">class </em><code class="sig-prename descclassname">algorithms.distribution.QuasiRandom.</code><code class="sig-name descname">QuasiRandom</code><span class="sig-paren">(</span><em class="sig-param">trueD=None</em>, <em class="sig-param">distrib_data=None</em>, <em class="sig-param">rngSeed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.QuasiRandom.QuasiRandom" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="algorithms.distribution.QuasiRandom.QuasiRandom.gen_distrib">
<code class="sig-name descname">gen_distrib</code><span class="sig-paren">(</span><em class="sig-param">n</em>, <em class="sig-param">m</em>, <em class="sig-param">j=1</em><span class="sig-paren">)</span><a class="headerlink" href="#algorithms.distribution.QuasiRandom.QuasiRandom.gen_distrib" title="Permalink to this definition">¶</a></dt>
<dd><p>nStart = starting value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>nEnd = ending value of <img class="math" src="_images/math/5aa339d4daf45a810dda332e3c80a0698e526e04.png" alt="i"/></p>
<p>n = value of <img class="math" src="_images/math/5a939c5280da7202ca4531f175a7780ad5e1f80a.png" alt="n"/> used to determine <img class="math" src="_images/math/e9f4d366f1d155ec8c37d785708c0c47e20de43d.png" alt="a_n"/></p>
<p>coordIndex = which coordinates in sequence are needed</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
    <a href="https://github.com/QMCSoftware/QMCSoftware">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>

          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="stop.html" class="btn btn-neutral float-right" title="StoppingCriterion Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="measure.html" class="btn btn-neutral float-left" title="Measure Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Illinois Institute of Technology

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>